

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TaurusForm User’s Interface &mdash; taurus 4.1.2-alpha documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="taurus 4.1.2-alpha documentation" href="../../index.html"/>
        <link rel="up" title="User’s Interface" href="index.html"/>
        <link rel="next" title="TaurusModelChooser User’s Interface" href="modelchooser.html"/>
        <link rel="prev" title="Taurus colors" href="ui_colors.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> taurus
          

          
            
            <img src="../../_static/taurus.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                4.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.taurus-scada.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/taurus-org/taurus">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/taurus">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../docs.html">Taurus 4.1 documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">User&#8217;s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">User&#8217;s Interface</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ui_colors.html">Color meaning</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Forms</a></li>
<li class="toctree-l4"><a class="reference internal" href="modelchooser.html">Model Chooser</a></li>
<li class="toctree-l4"><a class="reference internal" href="plot.html">Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="trend.html">TaurusTrend User&#8217;s Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="trend.html#spectrograms-2d-trends">Spectrograms (2D trends)</a></li>
<li class="toctree-l4"><a class="reference internal" href="taurusimage.html">Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="arrayeditor.html">Array Editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="synoptics.html">Synoptics</a></li>
<li class="toctree-l4"><a class="reference internal" href="devpanels.html">TaurusPanel &amp; TaurusDevicePanel</a></li>
<li class="toctree-l4"><a class="reference internal" href="taurusgui.html">TaurusGui</a></li>
<li class="toctree-l4"><a class="reference internal" href="taurusdemo.html">TaurusDemo</a></li>
<li class="toctree-l4"><a class="reference internal" href="logs.html">Logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="configurations.html">Configurations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../devel/index.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tep/index.html">Taurus Enhancement Proposals</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">taurus</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../docs.html">Taurus 4.1 documentation</a> &raquo;</li>
      
          <li><a href="../index.html">User&#8217;s Guide</a> &raquo;</li>
      
          <li><a href="index.html">User&#8217;s Interface</a> &raquo;</li>
      
    <li>TaurusForm User&#8217;s Interface</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/users/ui/forms.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="taurusform-user-s-interface">
<span id="forms"></span><h1><a class="toc-backref" href="#id3">TaurusForm User&#8217;s Interface</a><a class="headerlink" href="#taurusform-user-s-interface" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#taurusform-user-s-interface" id="id3">TaurusForm User&#8217;s Interface</a><ul>
<li><a class="reference internal" href="#taurusform-as-a-stand-alone-application" id="id4">TaurusForm as a stand-alone application</a></li>
<li><a class="reference internal" href="#the-widgets-used-for-different-types-of-attributes-and-devices" id="id5">The widgets used for different types of attributes and devices</a></li>
<li><a class="reference internal" href="#changing-the-contents-of-a-form" id="id6">Changing the contents of a form</a></li>
<li><a class="reference internal" href="#drag-and-drop-support" id="id7">Drag and Drop support</a></li>
<li><a class="reference internal" href="#compact-mode" id="id8">Compact Mode</a></li>
<li><a class="reference internal" href="#writing-to-attributes" id="id9">Writing to attributes</a><ul>
<li><a class="reference internal" href="#forced-apply" id="id10">Forced apply</a></li>
<li><a class="reference internal" href="#external-changes-of-displayed-attributes" id="id11">External changes of displayed attributes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>The <a class="reference internal" href="../../devel/api/taurus/qt/qtgui/panel/_TaurusForm.html#taurus.qt.qtgui.panel.TaurusForm" title="taurus.qt.qtgui.panel.TaurusForm"><code class="xref py py-class docutils literal"><span class="pre">TaurusForm</span></code></a> widget is the standard way for Taurus applications to
present a set of attribute and device readings and controls widgets with a form-
like layout.</p>
<div class="figure align-center">
<img alt="../../_images/forms02.png" src="../../_images/forms02.png" />
</div>
<p>For each item (attribute or device) represented in a TaurusForm, the following
elements will be shown (vertically aligned with those of the other items along 5
columns):</p>
<ol class="arabic simple">
<li><em>label text</em>. It shows the name or other identification of the item.</li>
<li><em>read widget</em>. It shows the current value of the item. If the information cannot
be shown in a compact way, it may be a button that launches a separate dialog
which provides detailed information. The read widget may provide information
on both the read value and the quality status of the attribute, typically
using the <a class="reference internal" href="ui_colors.html#ui-colors"><span class="std std-ref">Taurus color convention</span></a>. The read widget will
extend over the second and third columns for those items that are not writable.</li>
<li><em>write widget</em> (only shown if the item allows writting). A widget for modifying
the value of the item. If it cannot be done in a compact way, it may be a
button that launches a separate dialog which provides detailed information.</li>
<li><em>units text</em>. It shows the units associated to the item (it is not shown if no
units are defined for this item).</li>
<li><em>extra widget</em>. An extra space that may be used by some custom widgets
(only shown if used).</li>
</ol>
<p>The precise widgets that are used by default for each item are determined by the
type of attribute / class of device as well as by a custom mapping that is set
at Taurus installation time.</p>
<div class="section" id="taurusform-as-a-stand-alone-application">
<span id="standalonetaurusform"></span><h2><a class="toc-backref" href="#id4">TaurusForm as a stand-alone application</a><a class="headerlink" href="#taurusform-as-a-stand-alone-application" title="Permalink to this headline">¶</a></h2>
<p>You may also use TaurusForm as a stand-alone application for controlling some
attributes or devices from the control system. You can launch the stand-alone TaurusForm
with the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">taurusform</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">model_list</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>Run the following command for more details:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">taurusform</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>The model list is optional and is a space-separated list of models for
TaurusForm. Valid models are: attribute names, device names or alias. See
<a class="reference internal" href="../../devel/api/taurus/qt/qtgui/panel/_TaurusForm.html#taurus.qt.qtgui.panel.TaurusForm" title="taurus.qt.qtgui.panel.TaurusForm"><code class="xref py py-class docutils literal"><span class="pre">TaurusForm</span></code></a> API for more information about valid models.</p>
</div>
<div class="section" id="the-widgets-used-for-different-types-of-attributes-and-devices">
<h2><a class="toc-backref" href="#id5">The widgets used for different types of attributes and devices</a><a class="headerlink" href="#the-widgets-used-for-different-types-of-attributes-and-devices" title="Permalink to this headline">¶</a></h2>
<p>By default, TaurusForm tries to use the most appropriate Taurus widget for
representing its attributes and/or widgets.</p>
<div class="figure align-center" id="id1">
<img alt="../../_images/forms03.png" src="../../_images/forms03.png" />
<p class="caption"><span class="caption-text">A taurusform created with the following command <cite>taurusform sys/tg_test/1
sys/tg_test/1/state sys/tg_test/1/status sys/tg_test/1/string_scalar
sys/tg_test/1/boolean_scalar sys/tg_test/1/boolean_spectrum
sys/tg_test/1/float_scalar sys/tg_test/1/float_spectrum
sys/tg_test/1/float_image</cite></span></p>
</div>
<p>For the attributes, TaurusForm checks the type of attribute (whether it is a
scalar or an array, whether it is a number or a string or a boolean, whether it
is writable or read-only, etc.). For certain attributes, more than one widget
may be adequate, and the form allows the user to switch between them (See the
<a class="reference internal" href="#changing-the-contents-of-a-form">Changing the contents of a form</a> section).</p>
<p>For Tango devices, the Tango Class of the device is searched in the
<cite>T_FORM_CUSTOM_WIDGET_MAP</cite> map defined in
<a class="reference internal" href="../../devel/tauruscustomsettings.html#tauruscustomsettings"><span class="std std-ref">Taurus custom settings</span></a> and the given widget is used if there is a
match. Otherwise, the default device representation is used, which shows a
button that launches an <code class="xref py py-class docutils literal"><span class="pre">AttributeForm</span></code> showing <em>all</em> the attributes for
that device.</p>
<p>As an example, <a class="reference external" href="http://www.sardana-controls.org/">Sardana</a> makes heavy use of <cite>T_FORM_CUSTOM_WIDGET_MAP</cite> in order
to display specific widgets for its motor and channel devices.</p>
</div>
<div class="section" id="changing-the-contents-of-a-form">
<h2><a class="toc-backref" href="#id6">Changing the contents of a form</a><a class="headerlink" href="#changing-the-contents-of-a-form" title="Permalink to this headline">¶</a></h2>
<p>If the application using the form allows it, you can modify both <em>what</em> is shown
and <em>how</em> it is shown in the form.</p>
<ul class="simple">
<li>You can alter <em>what</em> is shown in two ways:<ul>
<li>right-clicking in the form and selecting the <cite>Modify contents</cite> option in the
context menu. A <a class="reference internal" href="modelchooser.html#modelchooser"><span class="std std-ref">TaurusModelChooser</span></a> widget will let you
modify the list of taurus models being represented by the form.</li>
<li>Dropping models that you drag from another taurus widget (typically another
TaurusForm, or a <a class="reference internal" href="modelchooser.html#modelchooser"><span class="std std-ref">TaurusModelChooser</span></a>). See the <a class="reference internal" href="#drag-and-drop-support">Drag and
Drop support</a> section for more details.</li>
</ul>
</li>
<li>Regarding <em>how</em> it is shown, you can change the following (provided that
user modifications are allowed for this form):<ul>
<li>which widget is used for displaying the read value or the write value of a
given item. This is done by right-clicking on the label of the item and
selecting the <cite>change Read Widget</cite> (or <cite>change write widget</cite>) option.</li>
<li>Whether to use <em>compact mode</em> or not. See <a class="reference internal" href="#compact-mode">Compact mode</a> section for more details</li>
<li>The text shown in the label widget for a value can be customised via the
&#8216;Change Label&#8217; option in the label&#8217;s context menu. It can also be changed for
all values in a form with the &#8216;Change Labels&#8217; option of the form&#8217;s context menu.</li>
</ul>
</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can use the <cite>Modify contents</cite> option to re-order what is shown.</p>
</div>
</div>
<div class="section" id="drag-and-drop-support">
<h2><a class="toc-backref" href="#id7">Drag and Drop support</a><a class="headerlink" href="#drag-and-drop-support" title="Permalink to this headline">¶</a></h2>
<p>TaurusForm supports drag&amp;drop of models for its items. Essentially each item
represented in a form is associated to a <a class="reference internal" href="../../devel/core_tutorial.html#model-concept"><span class="std std-ref">Taurus model</span></a>. By
dragging the label of a given item in a form, what happens behind the scenes is
that the <em>model</em> is copied. Many Taurus widgets can be instructed to accept drops
of models (e.g. <code class="xref py py-class docutils literal"><span class="pre">TaurusPlot</span></code>, <code class="xref py py-class docutils literal"><span class="pre">TaurusTrend</span></code>,
<a class="reference internal" href="../../devel/api/taurus/qt/qtgui/panel/_TaurusForm.html#taurus.qt.qtgui.panel.TaurusForm" title="taurus.qt.qtgui.panel.TaurusForm"><code class="xref py py-class docutils literal"><span class="pre">TaurusForm</span></code></a>,...) and alter their models according to the new model
passed.</p>
<p>When a TaurusForm receives one or more models from a drop, it appends them to
its current list of displayed models and shows them.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you accidentally dropped a model and want to remove the new item,
just use the <cite>Modify contents</cite> option from the form&#8217;s context menu.</p>
</div>
</div>
<div class="section" id="compact-mode">
<h2><a class="toc-backref" href="#id8">Compact Mode</a><a class="headerlink" href="#compact-mode" title="Permalink to this headline">¶</a></h2>
<p>When in compact mode, a value in a form is shown with only one column for both
the read and write widget. Normally the read widget is shown, and only when
the user triggers the edition mode, the write widget is shown. The edit triggers are,
tipically:</p>
<ul class="simple">
<li>the F2 key</li>
<li>Double-clicking on the read widget</li>
</ul>
<p>The edition mode is left when the write widget loses focus, or the changes
have been applied. Also, in many cases, when the &#8220;ESC&#8221; key is pressed.</p>
<p>You can enable/disable the compact mode for a value by right-clicking on its
label and selecting &#8216;compact mode&#8217;. You can also set the compact mode for all
values in the form via the context menu of the form.</p>
</div>
<div class="section" id="writing-to-attributes">
<h2><a class="toc-backref" href="#id9">Writing to attributes</a><a class="headerlink" href="#writing-to-attributes" title="Permalink to this headline">¶</a></h2>
<p>Taurus attributes can be read-only or allow writing. Those attributes that are
writable have two values: the <em>read value</em> and the <em>write value</em>. The read value
is displayed by the <em>read widget</em> in the second column of the TaurusForm (just
right of the label). The <em>write widget</em>, in the third column of the TaurusForm
allows you to modify the write value.</p>
<p>Note that the read value and the write value of an attribute are not necessarily
equal. The write value is a &#8220;set point&#8221;, or &#8220;desired value&#8221; while the read value
gives the actual value as read by the control system (for example, in a power
supply device, the read value of its voltage attribute oscillate around the write value
due to ripple).
Also note that the units associated to the read and write values may not be the
same (In Tango, they are internally the same, but other schemes may have ways of
defining them independently)</p>
<p>Since writing wrong values may be dangerous for some equipment, the default
behaviour of write widgets is not to apply new values directly as you type the
value or move a dial. Instead, the corresponding label of the item becomes
highlighted with a blue frame, indicating that the write value has been changed
(we say that the item has <em>pending operations</em>) and that these changes can be
applied. Some write widgets give extra feedback apart from that of the label.</p>
<p>When a widget has pending operations, you can check exactly what is the pending
operation by consulting its tooltip.</p>
<div class="figure align-center" id="id2">
<img alt="../../_images/forms-pendingops01.png" src="../../_images/forms-pendingops01.png" />
<p class="caption"><span class="caption-text">Example of pending operation notification: the write value of the array_scalar
attribute has been changed but it is not yet applied. The label for this item
shows a blue frame, the write widget shows bold blue text and the tooltip
gives extra information.</span></p>
</div>
<p>Pending operations in a form can be applied either individually for each item or
all at once:</p>
<ul class="simple">
<li>The way for applying changes for a single item may depend on the write widget
involved, but typically (it is the case for all default widgets) it is done by
pressing the <cite>Enter</cite> key on the write widget (see also the <a class="reference internal" href="#forced-apply">Forced apply</a>
section).</li>
<li>For applying all pending operations of a whole form at once, you can click on
the <cite>Apply</cite> button of the form (if available).</li>
</ul>
<p>If the form provides buttons, the <cite>Reset</cite> button will discard all pending
operations.</p>
<div class="section" id="forced-apply">
<span id="forcedapply"></span><h3><a class="toc-backref" href="#id10">Forced apply</a><a class="headerlink" href="#forced-apply" title="Permalink to this headline">¶</a></h3>
<p>By default, if a write value has not changed, there will be no pending
operations and therefore the value cannot be re-applied. Some times, however, it
may be interesting to force another write of the same value (e.g. a certain
hardware device needs an extra &#8220;push&#8221; to reach the desired value). This can be
done by pressing <cite>CTRL+Enter</cite> (instead of just <cite>Enter</cite>) on the write widget.</p>
</div>
<div class="section" id="external-changes-of-displayed-attributes">
<h3><a class="toc-backref" href="#id11">External changes of displayed attributes</a><a class="headerlink" href="#external-changes-of-displayed-attributes" title="Permalink to this headline">¶</a></h3>
<p>When the read value of an attribute is updated in the control system, the read
widget for that attribute will reflect the new value (depending on the
configuration of the control system, a certain refresh period may be waited).</p>
<p>When the write value of an attribute is updated in the control system (a certain
attribute may be accessed simultaneously from different client aplications or
even from different parts of the same application), the item representing that
attribute will be notified, but the value displayed by the write widget will not
be changed (instead, the item will show that there is a pending operation). In
this way, concurrent editions will not interfere with your own editions, but at
the same time you will be aware of them.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Remember that you can check the cause of a pending operation by
consulting the write widget tooltip.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modelchooser.html" class="btn btn-neutral float-right" title="TaurusModelChooser User’s Interface" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ui_colors.html" class="btn btn-neutral" title="Taurus colors" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'4.1.2-alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>